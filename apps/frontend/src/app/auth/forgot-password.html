<div class="auth-container">
  <div class="auth-card">
    <!-- Logo -->
    <div class="auth-logo">
      <div class="auth-logo-text">Diddit!</div>
    </div>

    <!-- Title -->
    <h1 class="auth-title">Forgot Your Password?</h1>
    <p class="auth-subtitle">Enter your email and we'll send you a link to reset your password</p>

    <!-- Success Message -->
    @if (successMessage()) {
      <div class="success-message" role="alert">
        {{ successMessage() }}
      </div>
    }

    <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()">
      <!-- Email -->
      <div class="form-group">
        <label for="email" class="form-label">Email Address</label>
        <input
          id="email"
          type="email"
          class="form-input"
          formControlName="email"
          placeholder="you@example.com"
          [attr.aria-invalid]="emailControl.invalid && emailControl.touched"
          [attr.aria-describedby]="
            emailControl.invalid && emailControl.touched ? 'email-error' : null
          "
        />
        @if (emailControl.invalid && emailControl.touched) {
          <div id="email-error" class="error" role="alert">
            @if (emailControl.errors?.['required']) {
              <span>Email is required</span>
            }
            @if (emailControl.errors?.['email']) {
              <span>Please enter a valid email</span>
            }
          </div>
        }
      </div>

      <!-- Server Error -->
      @if (errorMessage()) {
        <div class="error server-error" role="alert" aria-live="assertive">
          {{ errorMessage() }}
        </div>
      }

      <!-- Submit -->
      <button
        type="submit"
        class="btn btn-primary btn-block"
        [disabled]="forgotPasswordForm.invalid || isLoading()"
      >
        @if (isLoading()) {
          <span>Sending...</span>
        } @else {
          <span>Send Reset Link</span>
        }
      </button>

      <!-- Links -->
      <div class="auth-links">
        <a routerLink="/login" class="auth-link">Back to login</a>
        <span class="separator">Â·</span>
        <a routerLink="/register" class="auth-link">Create account</a>
      </div>
    </form>
  </div>
</div>
